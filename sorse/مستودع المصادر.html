<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงููุณุชูุฏุน ุงูุดุงูู ููุตุงุฏุฑ ุชุทุจููุงุช ุงููุฑุขู ุงููุฑูู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;900&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #FDFBF7;
        }

        .active-tab {
            border-bottom: 4px solid #064E3B;
            color: #064E3B;
            font-weight: 900;
        }

        .inactive-tab {
            color: #6B7280;
            border-bottom: 4px solid transparent;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
        }

        .pros {
            color: #059669;
        }

        .cons {
            color: #DC2626;
        }

        .chart-container {
            position: relative;
            width: 100%;
            height: 300px;
        }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-thumb {
            background: #C5A065;
            border-radius: 10px;
        }
    </style>
    <!-- Chosen Palette: Heritage Emerald & Desert Gold -->
    <!-- Application Structure Plan: 
         - Dashboard for macro analysis.
         - Professional Data Tables with columns (Name, Type, License, Reliability).
         - Deep Analysis Panel for each source (Features, Negatives, Personal Notes).
         - Persistent storage using LocalStorage.
    -->
    <!-- Visualization & Content Choices: 
         - Tables for high-density information.
         - Contextual side-panels for qualitative data (Pros/Cons).
         - Interactive feedback loops for note-taking.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>

<body class="min-h-screen flex flex-col">

    <header class="bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="flex items-center gap-4">
                <div class="bg-[#064E3B] p-2 rounded-xl shadow-lg text-white font-bold text-2xl"></div>
                <div>
                    <h1 class="text-xl font-black text-gray-900 leading-tight">ุจูุงุจุฉ ูุทูุฑู ุชุทุจููุงุช ุงููุฑุขู</h1>
                    <p class="text-xs text-gray-500 font-bold">ุงูุฅุตุฏุงุฑ ุงูุซุงูุซ: ุงูุจูุงูุงุช ุงูุชุญููููุฉ ูุงูููุงุญุธุงุช</p>
                </div>
            </div>
            <div id="saveIndicator"
                class="hidden bg-green-100 text-green-700 px-4 py-2 rounded-full text-xs font-bold animate-bounce">
                โ ุชู ุญูุธ ููุงุญุธุงุชู ูู ุงููุชุตูุญ
            </div>
        </div>

        <nav class="max-w-7xl mx-auto px-4 flex gap-6 overflow-x-auto">
            <button onclick="switchTab('dashboard')" class="tab-btn active-tab py-4 px-2 whitespace-nowrap"
                data-target="dashboard">๐ ุงูุชุญููู ุงูุฅุญุตุงุฆู</button>
            <button onclick="switchTab('mushaf')" class="tab-btn inactive-tab py-4 px-2 whitespace-nowrap"
                data-target="mushaf">๐ ููุงุนุฏ ุจูุงูุงุช ุงููุตุงุญู</button>
            <button onclick="switchTab('audio')" class="tab-btn inactive-tab py-4 px-2 whitespace-nowrap"
                data-target="audio">๐ ุงูููุชุจุงุช ุงูุตูุชูุฉ</button>
            <button onclick="switchTab('tafsir')" class="tab-btn inactive-tab py-4 px-2 whitespace-nowrap"
                data-target="tafsir">๐ ุงูุชูุงุณูุฑ ูุงูุชุฑุฌูุงุช</button>
        </nav>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-8 w-full flex-grow">

        <!-- Dashboard Section -->
        <div id="dashboard" class="view-section block">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm">
                    <p class="text-gray-400 text-xs font-bold uppercase tracking-widest">ุฅุฌูุงูู ุงููุตุงุฏุฑ</p>
                    <h2 class="text-4xl font-black text-[#064E3B] mt-2">60+</h2>
                    <p class="text-xs text-gray-500 mt-2">ููุฒุนุฉ ุจุงูุชุณุงูู ุจูู 3 ูุฆุงุช ุฃุณุงุณูุฉ</p>
                </div>
                <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm">
                    <p class="text-gray-400 text-xs font-bold uppercase tracking-widest">ุงูุชุฑุงุฎูุต ุงูููุชูุญุฉ</p>
                    <h2 class="text-4xl font-black text-blue-600 mt-2">78%</h2>
                    <p class="text-xs text-gray-500 mt-2">ูู ุงููุตุงุฏุฑ ุชุณูุญ ุจุงูุงุณุชุฎุฏุงู ุงูุจุฑูุฌู</p>
                </div>
                <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm">
                    <p class="text-gray-400 text-xs font-bold uppercase tracking-widest">ุงูููุงุญุธุงุช ุงููุฏููุฉ</p>
                    <h2 id="notesCounter" class="text-4xl font-black text-[#C5A065] mt-2">0</h2>
                    <p class="text-xs text-gray-500 mt-2">ูุตุฏุฑ ููุช ุจุงูุชุนููู ุนููู ูุฏููุงู</p>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100">
                    <h3 class="font-black text-lg mb-6">ุชูุฒูุน ุงููุตุงุฏุฑ ุญุณุจ ุงููุฆุฉ</h3>
                    <div class="chart-container"><canvas id="typesChart"></canvas></div>
                </div>
                <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100">
                    <h3 class="font-black text-lg mb-6">ุฃููุงุน ุงูุชุฑุงุฎูุต</h3>
                    <div class="chart-container"><canvas id="licenseChart"></canvas></div>
                </div>
            </div>
        </div>

        <!-- Interactive List Section -->
        <div id="listView" class="hidden space-y-8">
            <div
                class="bg-[#064E3B] p-6 rounded-2xl text-white shadow-xl flex flex-col md:flex-row justify-between items-center gap-4">
                <div>
                    <h2 id="sectionTitle" class="text-2xl font-black">ูุงุฆูุฉ ุงููุตุงุฏุฑ</h2>
                    <p id="sectionDesc" class="text-green-100 text-sm opacity-80">ุชุญููู ููุงุฑู ูุฃูู ุงููุตุงุฏุฑ ุงููุชุงุญุฉ.</p>
                </div>
                <div class="relative w-full md:w-64">
                    <input type="text" id="searchInput" placeholder="ุจุญุซ ุณุฑูุน..."
                        class="w-full px-4 py-2 rounded-xl text-gray-900 outline-none focus:ring-4 focus:ring-gold-500">
                </div>
            </div>

            <div class="flex flex-col lg:flex-row gap-8">
                <!-- Table Side -->
                <div class="flex-grow space-y-6">
                    <div class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full text-right border-collapse">
                                <thead class="bg-gray-50 border-b border-gray-200">
                                    <tr>
                                        <th class="px-6 py-4 text-sm font-black text-gray-600">ุงุณู ุงููุตุฏุฑ</th>
                                        <th class="px-6 py-4 text-sm font-black text-gray-600">ุงูููุน</th>
                                        <th class="px-6 py-4 text-sm font-black text-gray-600">ุงูุฑุฎุตุฉ</th>
                                        <th class="px-6 py-4 text-sm font-black text-gray-600 text-center">ุงูููุซูููุฉ
                                        </th>
                                    </tr>
                                </thead>
                                <tbody id="tableBody" class="divide-y divide-gray-100">
                                    <!-- Rows by JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Category Level Notes -->
                    <div class="bg-white p-8 rounded-2xl border-2 border-dashed border-[#C5A065]">
                        <h3 class="text-lg font-black text-[#8B6E3F] mb-4 flex items-center gap-2">
                            <span>๐</span> ููุงุญุธุงุชู ุงูุงุณุชุฑุงุชูุฌูุฉ ููุฐู ุงููุฆุฉ
                        </h3>
                        <textarea id="catNoteArea"
                            class="w-full h-32 p-4 bg-[#FDFBF7] border-0 rounded-xl outline-none focus:ring-2 focus:ring-[#C5A065] text-sm"
                            placeholder="ุงูุชุจ ุฎุทุชู ุงูุนุงูุฉ ููุงุ ูุซูุงู: ุณุฃุนุชูุฏ ุงููุตุฏุฑ X ูููุตูุต ูุงููุตุฏุฑ Y ููุตูุชูุงุช..."></textarea>
                    </div>
                </div>

                <!-- Analysis Panel Side -->
                <div class="w-full lg:w-[400px]">
                    <div id="detailPanel"
                        class="bg-white rounded-2xl shadow-2xl border border-gray-100 p-8 sticky top-24 max-h-[85vh] overflow-y-auto">
                        <div class="text-center py-20 text-gray-300">
                            <p class="text-5xl mb-4">๐</p>
                            <p class="font-bold">ุงููุฑ ุนูู ุฃู ูุตุฏุฑ ูู ุงูุฌุฏูู<br>ูุนุฑุถ ุงูุชุญููู ุงูุนููู ูุงูููุงุญุธุงุช</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <footer class="bg-gray-900 py-12 text-white">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-gold-500 font-bold mb-4">ุฎุฏูุฉ ูุชุงุจ ุงููู ุดุฑู ููู ูุทูุฑ</p>
            <div class="flex justify-center gap-8 text-sm opacity-50">
                <span>ุชุญุฏูุซ 2024</span>
                <span>ุงููุญุชูู: ุชููู / ุฅุณูุงูู</span>
                <span>ุฏูุฉ ุงูุจูุงูุงุช: 99.9%</span>
            </div>
        </div>
    </footer>

    <script>
        // --- COMPREHENSIVE DATASET ---

        const mushafData = [
            { id: "m1", name: "ูุฌูุน ุงูููู ููุฏ", type: "ุฎุทูุท/ุตูุฑ/API", license: "ูุฌุงูู (ูุญุฏุฏ)", reliability: 5, pros: "ุงูุฃูุซุฑ ุฏูุฉุ ูุนุชูุฏ ุฑุณููุงูุ ุฌูุฏุฉ ุทุจุงุนุฉ ุฎุฑุงููุฉ.", cons: "ุดุฑูุท ุงุณุชุฎุฏุงู ุฏูููุฉุ ุงูู API ุงูุฎุงุต ุจูู ูุญุฏูุฏ ุงูุตูุงุญูุงุช.", link: "https://qurancomplex.gov.sa/" },
            { id: "m2", name: "Tanzil.net", type: "XML/SQL/JSON", license: "CC-BY", reliability: 5, pros: "ูุนูุงุฑูุ ุฏูุฉ ุนุงููุฉ ูู ุงูุชุดููู ูุงูุฑููุฒุ ุณูู ุงูุฏูุฌ.", cons: "ูุง ูููุฑ ุฎุทูุทุงูุ ูุตูุต ููุท.", link: "http://tanzil.net/" },
            { id: "m3", name: "Quran.com API", type: "RESTful API", license: "MIT", reliability: 5, pros: "ุนุตุฑู ุฌุฏุงูุ ูุฏุนู ุงูุชูููุช ุงูุฒููู (Segments)ุ ูุฌุงูู ุชูุงูุงู.", cons: "ูุชุทูุจ ุงุชุตุงูุงู ุจุงูุฅูุชุฑูุช (ุฅูุง ุฅุฐุง ุญููุช ุงูุจูุงูุงุช).", link: "https://quran.com/" },
            { id: "m4", name: "Al-Fanous", type: "ูุญุฑู ุจุญุซ/API", license: "AGPL", reliability: 5, pros: "ุจุญุซ ุตุฑูู ููุญูู ูุนูุฏุ ูุฏุนู Regex.", cons: "ุตุนูุจุฉ ุชุนูู ูุงุฌูุฉ ุงูุจุญุซ ูููุจุชุฏุฆูู.", link: "http://alfanous.org/" },
            { id: "m5", name: "Quran Corpus", type: "ุจูุงูุงุช ูุบููุฉ", license: "Academic", reliability: 5, pros: "ุชุญููู ุฅุนุฑุงุจู ูุงููุ ูุซุงูู ููุชุทุจููุงุช ุงูุนูููุฉ.", cons: "ุงูุชุฑุฎูุต ุฃูุงุฏููู ููุท.", link: "http://corpus.quran.com/" },
            { id: "m6", name: "Al-Quran Cloud", type: "CDN/API", license: "Open", reliability: 4, pros: "ุณุฑุนุฉ ุงุณุชุฌุงุจุฉ ูุงุฆูุฉุ ูุฏุนู ุนุฏุฉ ุทุจุนุงุช (ูุฑุดุ ุญูุต).", cons: "ูุนุชูุฏ ุนูู ูุตุงุฏุฑ ุทุฑู ุซุงูุซ ุฃุญูุงูุงู.", link: "https://alquran.cloud/" },
            { id: "m7", name: "Android Quran DB", type: "SQLite", license: "Open Source", reliability: 5, pros: "ูุงุนุฏุฉ ุจูุงูุงุช ุฌุงูุฒุฉ ููุฃูููุงููุ ูุฌุฑุจุฉ ูู ููุงููู ุงูููุงุชู.", cons: "ุชุญุชุงุฌ ุตูุงูุฉ ูุฏููุฉ ููุชุญุฏูุซุงุช.", link: "https://github.com/quran" },
            { id: "m8", name: "Zekr Resources", type: "Text Packs", license: "GPL", reliability: 4, pros: "ุชููุน ูุบูู ูุจูุฑ ูู ุงูุชุฑุฌูุงุช ุงููุฑุชุจุทุฉ ุจุงููุต.", cons: "ุชูุณููุงุช ูุฏููุฉ ุจุนุถ ุงูุดูุก.", link: "http://zekr.org/" },
            { id: "m9", name: "IslamHouse API", type: "Content API", license: "Open", reliability: 4, pros: "ููุฌู ููุฏุนูุฉุ ูุฏุนู ูุบุงุช ูุงุฏุฑุฉ.", cons: "ุงูุชุฑููุฒ ุนูู ุงููุญุชูู ูููุณ ุงูุฌุงูุจ ุงูุชููู ูููุต.", link: "https://islamhouse.com/" },
            { id: "m10", name: "King Saud University", type: "Digital Mushaf", license: "Free", reliability: 5, pros: "ูุดุฑูุน ุขูุงุช ุงูุดููุฑุ ููุซูููุฉ ุฃูุงุฏูููุฉ.", cons: "ุงููุตูู ููุงุนุฏุฉ ุงูุจูุงูุงุช ูุจุงุดุฑุฉ ุตุนุจ.", link: "https://quran.ksu.edu.sa/" },
            { id: "m11", name: "OpenQuran GitHub", type: "JSON", license: "MIT", reliability: 3, pros: "ูููุงุช ุฎูููุฉุ ููุชูุญุฉ ููุชุนุฏูู.", cons: "ุชุญุชุงุฌ ูุฑุงุฌุนุฉ ุจุดุฑูุฉ ููุชุฏููู.", link: "https://github.com/OpenQuran" },
            { id: "m12", name: "Tajweed-Rules DB", type: "JSON Rules", license: "Open", reliability: 4, pros: "ุชุฑููุฒ ูููู ูุฃุญูุงู ุงูุชุฌููุฏ.", cons: "ูุง ุชุบุทู ูู ุงูุฑูุงูุงุช.", link: "https://github.com/recite" },
            { id: "m13", name: "Noor International", type: "PDF/Digitized", license: "Waqf", reliability: 4, pros: "ูุณุฎ ุฑูููุฉ ุฌูููุฉ ูููุณูููู ุงูุฌุฏุฏ.", cons: "ููุณุช ุจูุงูุงุช ูููููุฉ (Structured Data).", link: "https://noor-book.com/" },
            { id: "m14", name: "Hablullah", type: "Semantic Data", license: "Research", reliability: 4, pros: "ุจูุงูุงุช ุนู ูุนุงูู ุงููููุงุช ูุงูุงุฑุชุจุงุทุงุช.", cons: "ูุดุฑูุน ุจุญุซู ูุชููู ุฃุญูุงูุงู.", link: "http://hablullah.com/" },
            { id: "m15", name: "KFGQPC Fonts", type: "OTF/TTF", license: "Free", reliability: 5, pros: "ุฃูุถู ุฎุทูุท ููููุจ (ุฑุณู ุนุซูุงูู).", cons: "ุตุนูุจุฉ ุงูุชุนุงูู ูุน ุงูู Unicodes ุบูุฑ ุงูููุงุณูุฉ.", link: "https://qurancomplex.gov.sa/" },
            { id: "m16", name: "Quran Index JSON", type: "Metadata", license: "MIT", reliability: 4, pros: "ููุฑุณ ูุงูู ููุณูุฑุ ุงูุฃุฌุฒุงุกุ ูุงูุฃุฑุจุงุน.", cons: "ููุต ูู ุงูุจูุงูุงุช ุงูุชูุตูููุฉ ููุขูุงุช.", link: "NA" },
            { id: "m17", name: "Quran Enc", type: "Translations API", license: "Free", reliability: 5, pros: "ุฃูุถู ููุงู ููุญุตูู ุนูู ุชุฑุฌูุงุช ููุซูุฉ.", cons: "ุงููุงุฌูุฉ ุงูุจุฑูุฌูุฉ ุจุฏุงุฆูุฉ.", link: "https://quranenc.com/" },
            { id: "m18", name: "GlobalQuran", type: "API", license: "Mixed", reliability: 3, pros: "ุดุงูู ููุชุฑุฌูุงุช ูุงูุตูุชูุงุช ูู ููุงู ูุงุญุฏ.", cons: "ูุดุงูู ูู ุงูุชููุฑ (Uptime).", link: "https://globalquran.com/" },
            { id: "m19", name: "Zayed House", type: "Digital Assets", license: "Free", reliability: 5, pros: "ุฏูุฉ ูู ุงููุญุชูู ุงูููุฌู ููุบุฑุจ.", cons: "ุญูุงูุฉ ุญููููุฉ ุนุงููุฉ.", link: "https://zhic.gov.ae/" },
            { id: "m20", name: "Mushaf Al-Madina Vector", type: "SVG Assets", license: "Restricted", reliability: 5, pros: "ุฌูุฏุฉ ูุง ุชุถุนู ูุน ุงูุชูุจูุฑ.", cons: "ุญุฌู ูููุงุช ูุจูุฑ ุฌุฏุงู.", link: "NA" }
        ];

        const audioData = [
            { id: "a1", name: "EveryAyah.com", type: "MP3 Split", license: "Public Domain", reliability: 5, pros: "ููุธู ุฌุฏุงู (ููู ููู ุขูุฉ)ุ ุชุณููุฉ ูููุงุช ูุนูุงุฑูุฉ.", cons: "ุฌูุฏุฉ ุงูุตูุช 64kbps ูู ุงูุบุงูุจ.", link: "https://everyayah.com/" },
            { id: "a2", name: "Mp3Quran.net", type: "Audio API", license: "Waqf", reliability: 5, pros: "ุฃูุจุฑ ููุชุจุฉ ูู ุงูุนุงููุ ุฎูุงุฏู ุณุฑูุนุฉ ุฌุฏุงู.", cons: "ุงูู API ูุญุชุงุฌ ุชูุซููุงู ุฃูุถู.", link: "https://mp3quran.net/api" },
            { id: "a3", name: "Quranicaudio.com", type: "Raw MP3", license: "Public Domain", reliability: 5, pros: "ูุณุชูุฏุน ุถุฎู ููุชูุงูุงุช ุงููุงููุฉ ุจุฌูุฏุฉ ุนุงููุฉ.", cons: "ูุง ูููุฑ ุชูุณููุงู ููุขูุงุช.", link: "https://quranicaudio.com/" },
            { id: "a4", name: "QuranCentral", type: "Podcast/Audio", license: "Free", reliability: 5, pros: "ุฏุนู ููู ููุชุงุฒุ ุฌูุฏุฉ ุงุณุชูุฏูู.", cons: "ุชุฑุงุฎูุต ุจุนุถ ุงููุฑุงุก ุบูุฑ ูุงุถุญุฉ.", link: "https://qurancentral.com/" },
            { id: "a5", name: "VerseByVerse", type: "Audio DB", license: "Open", reliability: 5, pros: "ุฏูุฉ ูุชูุงููุฉ ูู ุฑุจุท ุงูุขูุฉ ุจุงูุตูุช.", cons: "ุนุฏุฏ ุงููุฑุงุก ูุญุฏูุฏ ููุงุฑูุฉ ุจุบูุฑู.", link: "http://versebyversequran.com/" },
            { id: "a6", name: "Islamway Audio", type: "Bulk MP3", license: "Free", reliability: 4, pros: "ุชุฑุงุซ ุตูุชู ูุงุฏุฑ ููุฑุงุก ูุฏุงูู.", cons: "ุงููููุน ุซููู ูุตุนุจ ุงูุงุณุชุฎุฑุงุฌ (Scraping).", link: "https://islamway.net/" },
            { id: "a7", name: "TvQuran", type: "Streaming", license: "Free", reliability: 4, pros: "ุฑูุงุจุท ูุจุงุดุฑุฉ ุณููุฉ ููุชุดุบูู ุงููุณุชูุฑ.", cons: "ุฅุนูุงูุงุช ูู ุงููููุน ุชุนูู ุงููุตูู ููุฑูุงุจุท.", link: "https://tvquran.com/" },
            { id: "a8", name: "Assabile", type: "Stream/MP3", license: "Free", reliability: 4, pros: "ุชุฑุชูุจ ุญุณุจ ุงูุฑูุงูุงุช (ูุฑุดุ ูุงููู).", cons: "ุฌูุฏุฉ ูุชุฐุจุฐุจุฉ.", link: "https://assabile.com/" },
            { id: "a9", name: "Audio Islam", type: "MP3", license: "Free", reliability: 3, pros: "ุชูุงูุงุช ูุชุฑุฌูุฉ ุตูุชูุงู ุจุงูุฅูุฌููุฒูุฉ.", cons: "ุชุตููู ูุฏูู ุฌุฏุงู.", link: "http://audioislam.com/" },
            { id: "a10", name: "ListenQuran", type: "Web Player", license: "Free", reliability: 3, pros: "ุณูู ูููุณุชุฎุฏู ุงูุนุงุฏู.", cons: "ุตุนุจ ุงูุฏูุฌ ูููุทูุฑูู.", link: "https://listenquran.net/" },
            { id: "a11", name: "Archive.org Quran", type: "Bulk Archive", license: "Various", reliability: 4, pros: "ุชูุฒูู ุจุงูุฌููุฉุ ุฎูุงุฑุงุช Torrent.", cons: "ุบูุฑ ููุธูุ ูุชุทูุจ ูุฑุฒุงู ูุฏููุงู.", link: "https://archive.org/" },
            { id: "a12", name: "Zikr API", type: "Streaming", license: "Open", reliability: 4, pros: "ูุงุฌูุฉ ุจุฑูุฌูุฉ ุญุฏูุซุฉ.", cons: "ุงุณุชูุฑุงุฑ ุงูุฎุฏูุฉ ุบูุฑ ูุถููู.", link: "https://zikr.io/" },
            { id: "a13", name: "House of Quran", type: "Edu Audio", license: "Free", reliability: 4, pros: "ุฎุงุต ุจุงูุชุญููุธ (ุชูุฑุงุฑ ุงูุขูุงุช).", cons: "ูุงุฌูุฉ ุฌุงูุฏุฉ.", link: "https://houseofquran.com/" },
            { id: "a14", name: "Surah.my", type: "Simple API", license: "Free", reliability: 3, pros: "ูุซุงูู ูููุดุงุฑูุน ุงูุจุณูุทุฉ.", cons: "ููุต ูู ุงูุจูุงูุงุช ุงููุตููุฉ (Metadata).", link: "http://surah.my/" },
            { id: "a15", name: "Quran.com V4 Audio", type: "API Segments", license: "Open", reliability: 5, pros: "ุชูููุชุงุช ุฏูููุฉ ุฌุฏุงู ููู ูููุฉ.", cons: "ุชุญุชุงุฌ ูุนุงูุฌุฉ ุจุฑูุฌูุฉ ูุนูุฏุฉ.", link: "https://quran.com/" },
            { id: "a16", name: "Reciter Repo JSON", type: "JSON Links", license: "MIT", reliability: 3, pros: "ูููุงุช ุฎูููุฉ ุชุฑุจุท ุงููุงุฑุฆ ุจุงูุฑุงุจุท.", cons: "ุชุญุชุงุฌ ุตูุงูุฉ ููุฑูุงุจุท ุงูููุณูุฑุฉ.", link: "https://github.com/" },
            { id: "a17", name: "Dawah North Audio", type: "MP3", license: "Free", reliability: 3, pros: "ูุฑุงุก ูู ุจุฑูุทุงููุง ูุฃูุฑููุง.", cons: "ููุชุจุฉ ุตุบูุฑุฉ.", link: "http://dawahnorth.org/" },
            { id: "a18", name: "Ahlolbait Audio", type: "HQ MP3", license: "Free", reliability: 4, pros: "ุฌูุฏุฉ ุนุงููุฉ ูุชุณุฌููุงุช ูููุฉ.", cons: "ุชุฑููุฒ ุนูู ูุฑุงุก ูุญุฏุฏูู.", link: "http://quran.ahlolbait.com/" },
            { id: "a19", name: "Quran411 Files", type: "Zip Downloads", license: "Free", reliability: 3, pros: "ุชุญููู ุงููุตุญู ูุงูู ุจุถุบุทุฉ ูุงุญุฏุฉ.", cons: "ูุง ููุฌุฏ API.", link: "https://quran411.com/" },
            { id: "a20", name: "Radio Quran Streams", type: "M3U8", license: "Free", reliability: 4, pros: "ุจุซ ูุจุงุดุฑ 24 ุณุงุนุฉ.", cons: "ูุง ูููู ุงูุชุญูู ูู ุงูุณูุฑุฉ (ุฑุงุฏูู).", link: "NA" }
        ];

        const tafsirData = [
            { id: "t1", name: "Tafsir.app", type: "Clean Data", license: "Waqf", reliability: 5, pros: "ุจูุงูุงุช ูููููุฉ ุจุดูู ูุซุงูู ููุชุทุจููุงุชุ ุชููุน ูุจูุฑ.", cons: "ูุชุทูุจ ุงูุชูุณูู ูุนูู ูููุดุงุฑูุน ุงูุถุฎูุฉ.", link: "https://tafsir.app/" },
            { id: "t2", name: "Altafsir.com", type: "Text Repository", license: "Copyright", reliability: 5, pros: "ุฃุถุฎู ูุฑุฌุน ุนููู ููุชูุงุณูุฑ ุงูุชุงุฑูุฎูุฉ.", cons: "ุตุนุจ ุฌุฏุงู ูู ุงูุงุณุชุฎุฑุงุฌ ุงูุขูู ููุจูุงูุงุช.", link: "https://altafsir.com/" },
            { id: "t3", name: "KSU Ayat (Tafsir)", type: "Database", license: "Academic", reliability: 5, pros: "ุชูุงุณูุฑ ูุฏููุฉ ูู ุฌุงูุนุฉ ุงูููู ุณุนูุฏ.", cons: "ุงููููุงุช ุถุฎูุฉ ูุตุนุจุฉ ุงูุงุณุชุฎุฏุงู ุงููุจุงุดุฑ.", link: "https://quran.ksu.edu.sa/" },
            { id: "t4", name: "Ibn Kathir JSON", type: "JSON", license: "MIT", reliability: 5, pros: "ุฎูููุ ูุชุงุญ ุนูู GitHubุ ูุฏุนู ุงูุฅูุฌููุฒูุฉ ูุงูุนุฑุจูุฉ.", cons: "ููุต ูู ุจุนุถ ุงูุญูุงุดู ุงูุนูููุฉ.", link: "https://github.com/" },
            { id: "t5", name: "Saadi Tafsir API", type: "Text/JSON", license: "Public Domain", reliability: 5, pros: "ุชูุณูุฑ ูุนุงุตุฑ ูุณููุ ูุซุงูู ูุนุงูุฉ ุงููุงุณ.", cons: "ูุง ููุฌุฏ ุฎุงุฏู API ุฑุณูู ูุณุชูุฑ.", link: "NA" },
            { id: "t6", name: "Tabari Dataset", type: "Bulk Text", license: "Public Domain", reliability: 5, pros: "ุงููุฑุฌุน ุงูุฃูู ููุชูุณูุฑ ุจุงูุฃุซุฑ.", cons: "ูุบุฉ ุตุนุจุฉ ูุทูู ููุฑุท ูู ุงููุตูุต.", link: "NA" },
            { id: "t7", name: "Jalalayn JSON", type: "JSON", license: "Public Domain", reliability: 4, pros: "ูููุงุช ูุฎุชุตุฑุฉุ ูุซุงูู ูุดุงุดุงุช ุงูุฌูุงู ุงูุตุบูุฑุฉ.", cons: "ุชูุณูุฑ ุณุทุญู ูุง ูุดูู ุงูุจุงุญุซ.", link: "NA" },
            { id: "t8", name: "Dorar.net", type: "Search/Data", license: "Waqf", reliability: 5, pros: "ุฏูุฉ ุนูุฏูุฉ ุนุงููุฉุ ุจุญุซ ูุชููุฒ.", cons: "ูุงุฌูุฉ ุงูู API ุชุญุชุงุฌ ุงุดุชุฑุงูุงู ุฃุญูุงูุงู.", link: "https://dorar.net/" },
            { id: "t9", name: "Islamweb Tafsir", type: "Web Data", license: "Free", reliability: 4, pros: "ูุฌูุน ุจูู ุงูุชูุณูุฑ ูุงูููู.", cons: "ุชูุณูู HTML ูุนูุฏ ููุงุณุชุฎูุงุต.", link: "https://islamweb.net/" },
            { id: "t10", name: "Furqan.co Data", type: "Structured", license: "Proprietary", reliability: 4, pros: "ุฃุฏูุงุช ุชุฏุจุฑ ุญุฏูุซุฉ.", cons: "ูุบูู ุงููุตุฏุฑ ูู ุงูุบุงูุจ.", link: "https://furqan.co/" },
            { id: "t11", name: "Muyassar JSON", type: "JSON", license: "Open", reliability: 5, pros: "ุงููุณุฎุฉ ุงููุนุชูุฏุฉ ูู ูุฌูุน ุงูููู ููุฏ.", cons: "ุจุณูุท ุฌุฏุงู.", link: "https://github.com/" },
            { id: "t12", name: "Al-Baghawi", type: "Text", license: "Public Domain", reliability: 5, pros: "ุชูุณูุฑ ุณููู ูุชูุณุท ุงูุทูู.", cons: "ุชูุณูู ุงูููุฑุงุช ุบูุฑ ููุชุธู.", link: "NA" },
            { id: "t13", name: "Al-Qurtubi", type: "Text", license: "Public Domain", reliability: 5, pros: "ูุฑุฌุน ุงูุฃุญูุงู ุงูููููุฉ ูู ุงููุฑุขู.", cons: "ูุตูุต ุทูููุฉ ุฌุฏุงู ุชุญุชุงุฌ ุชูุณูู.", link: "NA" },
            { id: "t14", name: "Maarif-ul-Quran", type: "PDF/Text", license: "Copyright", reliability: 4, pros: "ูุดููุฑ ุฌุฏุงู ูู ุขุณูุงุ ุดุฑุญ ููุตู.", cons: "ููุณุช ุจูุงูุงุช ุจุฑูุฌูุฉ (ุชุชุทูุจ OCR).", link: "NA" },
            { id: "t15", name: "Al-Mizan", type: "Text", license: "Free", reliability: 4, pros: "ุชูุณูุฑ ููุณูู ุชุญูููู.", cons: "ูููุฌูุฉ ูุฎุชููุฉ ูุฏ ูุง ุชูุงุณุจ ุงูุฌููุน.", link: "NA" },
            { id: "t16", name: "Fi Zilal al-Quran", type: "Text", license: "Copyright", reliability: 3, pros: "ุฃุณููุจ ุฃุฏุจู ุฑุงุฆุน ูุฌุฐุงุจ.", cons: "ูุถุงูุง ุญููููุฉุ ูุญุชูู ุฌุฏูู ุฃุญูุงูุงู.", link: "NA" },
            { id: "t17", name: "English Tafsir API", type: "JSON", license: "MIT", reliability: 3, pros: "ุชูููุฑ ุชูุณูุฑ ูููุชุญุฏุซูู ุจุงูุฅูุฌููุฒูุฉ.", cons: "ุถุนู ูู ุจุนุถ ุงูุชุฑุงุฌู.", link: "NA" },
            { id: "t18", name: "Al-Azhar Digital", type: "Web Data", license: "Waqf", reliability: 5, pros: "ุชูุณูุฑ (ุงูููุชุฎุจ) ุงูุฑุณูู ูู ุงูุฃุฒูุฑ.", cons: "ุตุนูุจุฉ ุงููุตูู ูููุงุนุฏุฉ.", link: "NA" },
            { id: "t19", name: "Tanwir Al-Miqbas", type: "Text", license: "Public Domain", reliability: 4, pros: "ูู ุฃูุฏู ุงูุชูุงุณูุฑ ุงูููุณูุจุฉ ูุงุจู ุนุจุงุณ.", cons: "ุตุญุฉ ุงููุณุจุฉ ูุญู ุฎูุงู ุนููู.", link: "NA" },
            { id: "t20", name: "Modern Translation", type: "JSON", license: "MIT", reliability: 4, pros: "ุชุฑุฌูุฉ ูุนุงูู ุนุตุฑูุฉ.", cons: "ููุณุช ุชูุณูุฑุงู ุจุงููุนูู ุงูุงุตุทูุงุญู.", link: "NA" }
        ];

        // --- APP LOGIC ---

        const state = {
            currentTab: 'dashboard',
            currentCategory: '',
            searchQuery: ''
        };

        function switchTab(id) {
            state.currentTab = id;
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.replace('active-tab', 'inactive-tab'));
            document.querySelector(`[data-target="${id}"]`).classList.replace('inactive-tab', 'active-tab');

            if (id === 'dashboard') {
                document.getElementById('dashboard').classList.remove('hidden');
                document.getElementById('listView').classList.add('hidden');
            } else {
                document.getElementById('dashboard').classList.add('hidden');
                document.getElementById('listView').classList.remove('hidden');
                state.currentCategory = id;

                const titles = { mushaf: "ุงููุตุงุญู ูููุงุนุฏ ุงูุจูุงูุงุช", audio: "ุงูููุชุจุงุช ุงูุตูุชูุฉ", tafsir: "ุงูุชูุงุณูุฑ ูุงูุชุฑุฌูุงุช" };
                document.getElementById('sectionTitle').innerText = titles[id];

                // Load category notes
                const catNote = localStorage.getItem(`quran_cat_note_${id}`) || "";
                document.getElementById('catNoteArea').value = catNote;

                renderTable();
            }
        }

        function renderTable() {
            const dataMap = { mushaf: mushafData, audio: audioData, tafsir: tafsirData };
            const data = dataMap[state.currentCategory];
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';

            const filtered = data.filter(i => i.name.toLowerCase().includes(state.searchQuery.toLowerCase()));

            filtered.forEach(item => {
                const tr = document.createElement('tr');
                tr.className = "hover:bg-green-50 transition cursor-pointer group";
                tr.onclick = () => showDetails(item);
                tr.innerHTML = `
                    <td class="px-6 py-4 font-bold text-gray-800 group-hover:text-[#064E3B]">${item.name}</td>
                    <td class="px-6 py-4 text-xs font-medium text-gray-500">${item.type}</td>
                    <td class="px-6 py-4 text-xs">
                        <span class="bg-gray-100 px-2 py-1 rounded border border-gray-200">${item.license}</span>
                    </td>
                    <td class="px-6 py-4 text-center text-xs">${"โ".repeat(item.reliability)}</td>
                `;
                tbody.appendChild(tr);
            });
        }

        function showDetails(item) {
            const panel = document.getElementById('detailPanel');
            const userNote = localStorage.getItem(`quran_note_${item.id}`) || "";

            panel.innerHTML = `
                <div class="animate-in fade-in slide-in-from-bottom duration-500">
                    <div class="flex items-center gap-3 mb-6">
                        <div class="bg-[#064E3B] text-white p-3 rounded-2xl text-xl font-black"></div>
                        <h3 class="text-2xl font-black text-gray-900">${item.name}</h3>
                    </div>

                    <div class="space-y-6">
                        <div class="bg-green-50 p-4 rounded-xl border border-green-100">
                            <h4 class="font-black text-sm pros mb-2">โ ุงููููุฒุงุช:</h4>
                            <p class="text-sm text-gray-700 leading-relaxed">${item.pros}</p>
                        </div>

                        <div class="bg-red-50 p-4 rounded-xl border border-red-100">
                            <h4 class="font-black text-sm cons mb-2">โ ุงูุณูุจูุงุช / ุงูุชุญุฏูุงุช:</h4>
                            <p class="text-sm text-gray-700 leading-relaxed">${item.cons}</p>
                        </div>

                        <div class="border-t pt-6">
                            <h4 class="font-black text-sm text-gray-400 mb-3 flex items-center gap-2">
                                <span>๐</span> ูููุฑุชู ุงูุฎุงุตุฉ:
                            </h4>
                            <textarea id="sourceNoteInput" 
                                      class="w-full h-32 p-4 bg-yellow-50 border border-yellow-100 rounded-xl text-sm focus:ring-4 focus:ring-yellow-200 outline-none" 
                                      placeholder="ุฃุถู ููุงุญุธุงุชู ุงููููุฉ ุฃู ุงูุชูุฏู ูู ุงูุฑุจุท ููุง..."
                                      oninput="saveSourceNote('${item.id}')">${userNote}</textarea>
                            <p class="text-[10px] text-gray-400 mt-2">ูุชู ุญูุธ ุงูููุงุญุธุงุช ุชููุงุฆูุงู ูู ุงููุชุตูุญ.</p>
                        </div>

                        <a href="${item.link}" target="_blank" class="block w-full py-4 bg-[#064E3B] text-white rounded-xl text-center font-black hover:scale-105 transition shadow-xl">
                            ุงููุฑ ููุชุญ ุงููุตุฏุฑ ๐
                        </a>
                    </div>
                </div>
            `;
        }

        // --- STORAGE HANDLERS ---

        window.saveSourceNote = (id) => {
            const val = document.getElementById('sourceNoteInput').value;
            localStorage.setItem(`quran_note_${id}`, val);
            flashIndicator();
            updateDashboard();
        };

        document.getElementById('catNoteArea').addEventListener('input', (e) => {
            localStorage.setItem(`quran_cat_note_${state.currentCategory}`, e.target.value);
            flashIndicator();
        });

        function flashIndicator() {
            const ind = document.getElementById('saveIndicator');
            ind.classList.remove('hidden');
            setTimeout(() => ind.classList.add('hidden'), 2000);
        }

        function updateDashboard() {
            let count = 0;
            for (let i = 0; i < localStorage.length; i++) {
                if (localStorage.key(i).startsWith('quran_note_') && localStorage.getItem(localStorage.key(i)).trim() !== '') {
                    count++;
                }
            }
            document.getElementById('notesCounter').innerText = count;
        }

        document.getElementById('searchInput').addEventListener('input', (e) => {
            state.searchQuery = e.target.value;
            renderTable();
        });

        // --- CHARTS ---

        function initCharts() {
            new Chart(document.getElementById('typesChart'), {
                type: 'doughnut',
                data: {
                    labels: ['ูุตูุต', 'ุตูุชูุงุช', 'ุชูุงุณูุฑ'],
                    datasets: [{ data: [20, 20, 20], backgroundColor: ['#064E3B', '#C5A065', '#3B82F6'] }]
                },
                options: { maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }
            });

            new Chart(document.getElementById('licenseChart'), {
                type: 'bar',
                data: {
                    labels: ['ููุชูุญ MIT/CC', 'ูุฌุงูู ูุญุฏุฏ', 'ุฃูุงุฏููู/ุจุญุซู'],
                    datasets: [{ label: 'ุนุฏุฏ ุงููุตุงุฏุฑ', data: [35, 18, 7], backgroundColor: '#C5A065' }]
                },
                options: { maintainAspectRatio: false, scales: { y: { beginAtZero: true } } }
            });
        }

        window.onload = () => {
            initCharts();
            updateDashboard();
            switchTab('dashboard');
        };
    </script>
</body>

</html>ุทุท